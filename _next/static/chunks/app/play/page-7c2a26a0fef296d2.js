(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3703:function(e,r,n){Promise.resolve().then(n.bind(n,1260))},1260:function(e,r,n){"use strict";n.d(r,{PlaytestComp:function(){return f}});var s,i,c=n(7437),t=n(2265),o=n(6075),l=n.n(o);function a(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return r.flatMap(e=>e?[e]:[]).join(" ")}async function d(){try{return!!await navigator.gpu.requestAdapter()}catch(e){console.log(e)}return!1}function h(e){return(0,c.jsxs)("div",{className:l().wrapper,children:["promo"===e.image?(0,c.jsx)("div",{className:a(l().imageHolder,l().bg0)}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:a(l().imageHolder,l().bg1)}),(0,c.jsx)("div",{className:a(l().imageHolder,l().bg2)}),(0,c.jsx)("div",{className:a(l().imageHolder,l().bg3)})]}),(0,c.jsx)("div",{className:l().content,children:e.children})]})}function g(e){return(0,c.jsx)("a",{href:e.href,target:"_blank",children:e.children})}var u=n(7876),x=n.n(u);function j(e){let[r,n]=(0,t.useState)(1);(0,t.useEffect)(()=>{(async()=>{if(await d()){var r;n(2),null===(r=e.onSuccess)||void 0===r||r.call(e)}else n(3)})()},[e]);let s={1:()=>(0,c.jsx)("h1",{children:"checking for WebGPU..."}),2:()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{children:"WebGPU detected ✅"}),(0,c.jsx)("div",{children:"You are all set for the playtest!"})]}),3:()=>(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{children:"WebGPU not found ⚠️"}),(0,c.jsxs)("div",{children:["This pre-alpha build requires WebGPU to run, which is not yet supported by all web browsers. Please use the latest version of either"," ",(0,c.jsx)("b",{children:"Google Chrome"})," or ",(0,c.jsx)("b",{children:"Microsoft Edge"}),". If you are using Chrome, make sure"," ",(0,c.jsx)(g,{href:"https://support.google.com/chrome/thread/274266347?hl=en&msgid=274267394",children:'"Graphics Acceleration"'})," ","is enabled. If you are on Linux, try ",(0,c.jsx)("b",{children:"Firefox Nightly"}),"."]}),e.showWorkarounds?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("h1",{children:"possible workarounds:"}),(0,c.jsxs)("p",{children:[(0,c.jsx)("h3",{children:(0,c.jsx)("u",{children:"Safari"})}),(0,c.jsxs)("div",{children:["open ",(0,c.jsx)("code",{children:"Develop > Feature Flags"})," and check"," ",(0,c.jsx)("code",{children:"WebGPU"})]})]}),(0,c.jsxs)("p",{children:[(0,c.jsx)("h3",{children:(0,c.jsx)("u",{children:"Firefox"})}),(0,c.jsxs)("div",{children:["goto ",(0,c.jsx)("code",{children:"about:config"})," and set"," ",(0,c.jsx)("code",{children:"dom.webgpu.enabled"})," to ",(0,c.jsx)("code",{children:"true"})]})]})]}):null]})}[r];return(0,c.jsx)("div",{className:x().webgpu,children:(0,c.jsx)(s,{})})}(s=i||(i={}))[s.Checking=1]="Checking",s[s.Detected=2]="Detected",s[s.Missing=3]="Missing";var p=n(8914),m=n.n(p);function b(e){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("section",{children:["Thank you for participating in the first ever Scramble Heart City online playtest! Join the"," ",(0,c.jsx)(g,{href:"https://discord.gg/6hbrfUgZJB",children:"official Discord server"})," ","to be alerted when the next playtest happens."]}),e.children]})}function f(){let e=function(){let[e,r]=(0,t.useState)();return(0,t.useEffect)(()=>{r(navigator.userAgent)},[r]),e}(),[r,n]=(0,t.useState)(!1),s=function(e){let[r,n]=(0,t.useState)();return(0,t.useEffect)(()=>{var r;n(null!==(r=new URLSearchParams(window.location.search).get(e))&&void 0!==r?r:"")},[n]),r}("error");if((0,t.useEffect)(()=>{},[]),s){let r="\nerror v1\ntimestamp: ".concat(new Date().toISOString(),"\nerrorText: ").concat(s,"\nuseragent: ").concat(e,"\n    ").trim();return(0,c.jsx)("main",{children:(0,c.jsx)(h,{image:"promo",children:(0,c.jsx)("div",{className:m().page,children:(0,c.jsxs)("aside",{className:m().column,children:[(0,c.jsx)("section",{style:{textAlign:"center"},children:(0,c.jsx)("a",{href:"/",children:(0,c.jsx)("img",{src:"/assets/scramble_logo.png",className:m().logo,alt:"Scramble Heart City logo"})})}),(0,c.jsxs)("section",{children:[(0,c.jsx)("h1",{children:"Oh no! An error occurred :("}),"Please copy/paste the following into #playtest-bugs:"]}),(0,c.jsx)("section",{children:(0,c.jsx)("div",{className:m().error,children:r.split("\n").map((e,r)=>(0,c.jsx)("div",{children:e},r))})}),(0,c.jsxs)("section",{children:["You can ",(0,c.jsx)("a",{href:"?",children:"click here"})," to go back to the game."]})]})})})})}return(0,c.jsx)("main",{children:(0,c.jsx)(h,{image:"promo",children:(0,c.jsx)("div",{className:m().page,children:(0,c.jsxs)("aside",{className:m().column,children:[(0,c.jsx)("section",{style:{textAlign:"center"},children:(0,c.jsx)("a",{href:"/",children:(0,c.jsx)("img",{src:"/assets/scramble_logo.png",className:m().logo,alt:"Scramble Heart City logo"})})}),(0,c.jsxs)(b,{children:[(0,c.jsx)("section",{children:(0,c.jsx)(j,{showWorkarounds:!1,onSuccess:()=>n(!0)})}),null]}),(0,c.jsxs)("section",{children:[(0,c.jsx)("h1",{children:"Debug Info"}),(0,c.jsx)("div",{children:e})]})]})})})})}},8914:function(e){e.exports={page:"play_page__EW8XJ",column:"play_column__o4p_J",logo:"play_logo__J62ky",button:"play_button__pNgbp",error:"play_error__V74X8"}},6075:function(e){e.exports={wrapper:"background_wrapper__0dEIE",imageHolder:"background_imageHolder__gUSWl","bg-slide":"background_bg-slide__NEoET",bg0:"background_bg0__vlySa",bg1:"background_bg1__HVUmP",bg2:"background_bg2__DzxUJ",bg3:"background_bg3__L_K0_",content:"background_content__AiEGi",image:"background_image__f4Qvs"}},7876:function(e){e.exports={webgpu:"webgpu_webgpu__DNO4h"}}},function(e){e.O(0,[995,971,23,744],function(){return e(e.s=3703)}),_N_E=e.O()}]);