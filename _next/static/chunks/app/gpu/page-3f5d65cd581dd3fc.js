(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{970:function(e,t,r){Promise.resolve().then(r.bind(r,5534))},5534:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return o}});var n=r(7437),u=r(2265);class s{addTexture(){let e=this.device.createTexture({size:[4096,4096],format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST});return this.textures.push(e),e}static async fromNavigator(){let e=await navigator.gpu.requestAdapter();if(!e)throw Error("WebGPU not supported");return new s(await e.requestDevice())}constructor(e){this.device=e,this.textures=[],e.lost.then(e=>{console.error("GPU Device lost",e)}),e.onuncapturederror=e=>{console.error("GPU Uncaptured error",e)}}}function o(){let{textures:e,addTexture:t,loaded:r}=function(){let[e,t]=(0,u.useState)(),[r,n]=(0,u.useState)([]);return(0,u.useEffect)(()=>{s.fromNavigator().then(e=>t(e))},[t]),{textures:r,addTexture:(0,u.useCallback)(()=>{e&&(e.addTexture(),n([...e.textures]))},[e]),loaded:!!e}}();return(0,n.jsxs)("main",{children:[(0,n.jsx)("h1",{children:"GPU Test"}),(0,n.jsxs)("div",{children:["Allocated textures: ",e.length]}),r&&(0,n.jsx)("button",{onClick:t,children:"Add Texture"})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=970)}),_N_E=e.O()}]);